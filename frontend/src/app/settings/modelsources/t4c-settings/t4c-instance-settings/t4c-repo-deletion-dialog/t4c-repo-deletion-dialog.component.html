<!--
 ~ SPDX-FileCopyrightText: Copyright DB Netz AG and the capella-collab-manager contributors
 ~ SPDX-License-Identifier: Apache-2.0
 -->

<h1 mat-dialog-title>Remove T4C repository</h1>
<div mat-dialog-content>
  <p>
    Do you really want to delete the T4C repository
    <span class="monospace">{{ repo.name }}</span
    >? <br />
    This will delete the repository in our database AND on the TeamForCapella
    server.
  </p>
  <p><b>The deletion cannot be undone!</b></p>
</div>
Please type in the name of the repository to confirm the deletion: <br />
<form>
  <mat-form-field appearance="fill">
    <mat-label>Repository name</mat-label>
    <input
      (paste)="(false)"
      matInput
      [formControl]="repositoryNameForm"
      [placeholder]="repo.name"
    />
    <mat-error *ngIf="repositoryNameForm.errors?.required">
      You have to type in the repository name!
    </mat-error>
    <mat-error *ngIf="repositoryNameForm.errors?.repositoryNameMatchFailed">
      The repository name doesn't match the repository you'd like to delete!
    </mat-error>
  </mat-form-field>

  <div mat-dialog-actions class="flex-space-between">
    <button mat-button (click)="this.dialogRef.close(false)">No</button>
    <button
      mat-flat-button
      type="submit"
      color="warn"
      (click)="remoteRepository()"
    >
      Remove the repository
    </button>
  </div>
</form>
